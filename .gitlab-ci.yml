image: php:5.6

before_script:
    - apt-get update -yqq &>/dev/null
    - apt-get install git zip unzip -yqq &>/dev/null
    - echo 'date.timezone = "Europe/Zurich"' > "$PHP_INI_DIR/php.ini"
    - pecl install xdebug &>/dev/null
    - docker-php-ext-enable xdebug &>/dev/null
    - curl -sS https://getcomposer.org/installer | php &>/dev/null
    - php composer.phar install &>/dev/null

"Lint: php":
    stage  : test
    script :
        - ./vendor/bin/phpcs --colors -p .

"Unit-tests":
    stage  : test
    script :
        - ./vendor/bin/phpunit --coverage-text --colors=never
